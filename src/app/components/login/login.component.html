<div class="login-container">
  <!-- Sección izquierda -->
  <div class="left-panel">
    <img src="assets/escudo-peru.png" alt="Escudo del Perú" class="logo large">
    <img src="assets/mivivienda-logo.png" alt="Crédito MiVivienda" class="logo medium">
    <img src="assets/upc-logo.png" alt="UPC" class="logo medium">
  </div>

  <!-- Sección derecha -->
  <div class="right-panel">
    <div class="login-card">
      <img src="assets/avatar.png" alt="Avatar" class="avatar" />
      <h2>Inicia sesión</h2>

      <form #f="ngForm" (ngSubmit)="onLogin()">
        <div class="form-group">
          <label for="username">Usuario</label>
          <input
            id="username"
            name="username"
            type="text"
            [(ngModel)]="username"
            autocomplete="username"
            required
          />
          <small class="hint" *ngIf="f.submitted && !username">Ingresa tu usuario.</small>
        </div>

        <div class="form-group">
          <label for="password">Contraseña</label>
          <input
            id="password"
            name="password"
            type="password"
            [(ngModel)]="password"
            autocomplete="current-password"
            minlength="6"
            required
          />
          <small class="hint" *ngIf="f.submitted && (!password || password.length < 6)">
            La contraseña debe tener al menos 6 caracteres.
          </small>
        </div>

        <button
          type="submit"
          class="btn"
          [disabled]="isLoading || f.invalid"
        >
          <ng-container *ngIf="!isLoading; else loadingTpl">Ingresar</ng-container>
        </button>

        <ng-template #loadingTpl>
          <span class="spinner"></span> Autenticando...
        </ng-template>

        <p class="register-text">
          ¿No tienes una cuenta?
          <a (click)="goToRegister()">Regístrate aquí</a>
        </p>

        <p *ngIf="mensaje" class="error-msg">{{ mensaje }}</p>
      </form>
    </div>
  </div>
</div>
